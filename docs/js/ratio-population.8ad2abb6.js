(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ratio-population"],{"18ae":function(a,t,n){"use strict";var e=n("cb02"),o=n.n(e);o.a},"2dd7":function(a,t,n){},5492:function(a,t,n){var e=n("32b3"),o=n("d70d");function i(a,t){return o(a||[],t||[],e)}a.exports=i},"91e5":function(a,t,n){"use strict";n.r(t);var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"ratio-population"},[a._m(0),a._l(a.cases,(function(t){return n("Card",{key:t,class:["card--"+t],scopedSlots:a._u([{key:"header",fn:function(){return[n("h6",[a._v(a._s(t+" Rate per 1 Million Population Ratio"))])]},proxy:!0},{key:"mainImage",fn:function(){return[n("canvas",{attrs:{id:"RatioPopulation_"+t.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[n("a",{staticClass:"download-card",attrs:{title:"download card","aria-label":"download card"},on:{click:a.downloadOnClick}},[n("i",{staticClass:"icon-download-cloud"})]),n("a",{staticClass:"share",attrs:{title:"share","aria-label":"share"},on:{click:a.shareOnClick}},[n("i",{staticClass:"icon-share"})])]},proxy:!0}],null,!0)})})),n("Dialog",{model:{value:a.modelDialog,callback:function(t){a.modelDialog=t},expression:"modelDialog"}},[n(a.componentChart,{tag:"component",attrs:{zone:a.modelChart.zone},model:{value:a.modelChart,callback:function(t){a.modelChart=t},expression:"modelChart"}})],1)],2)},o=[function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"help-text callout warning"},[n("ul",[n("li",[n("strong",[a._v("Long Touch / Hover")]),a._v(" to see case number")]),n("li",[n("strong",[a._v("Touch / Click")]),a._v(" chart bar to see province detail")])])])}],i=n("a34a"),r=n.n(i),c=n("ae8d"),s=n("3f7a"),l=n("a039"),u=n("6afe"),d=n("eafc"),p=n.n(d),f=n("93c6"),h=n.n(f),v=n("b047c"),m=n.n(v),C=n("5492"),_=n.n(C),g=n("0644"),b=n.n(g),w=n("1946");function k(a,t,n,e,o,i,r){try{var c=a[i](r),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(e,o)}function x(a){return function(){var t=this,n=arguments;return new Promise((function(e,o){var i=a.apply(t,n);function r(a){k(i,e,o,r,c,"next",a)}function c(a){k(i,e,o,r,c,"throw",a)}r(void 0)}))}}var y={name:"RationPopulation",mixins:[l["a"],u["a"]],components:{Card:c["a"],Dialog:s["a"]},data:function(){return{modelChart:{zone:null,population:null,isDialog:!0},cases:w["a"],chartInstance:_()(w["a"],[null,null,null,null]),data:_()(w["a"],[b()(w["c"]),b()(w["c"]),b()(w["c"]),b()(w["c"])])}},watch:{"data.confirmed.labels":m()((function(a,t){var n=this;w["a"].forEach((function(a){n.chartInstance[a].update()}))}),500)},created:function(){var a=this;p()(x(r.a.mark((function t(){var n,e,o;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),t.next=3,fetch(n);case 3:return e=t.sent,t.next=6,e.json();case 6:o=t.sent,o=Object.entries(o),w["a"].forEach((function(t){var n=h()(o,(function(a){var n=a[1];return parseInt(n.populationRatio[t])}),"desc");n.forEach((function(n){var e=n[0],o=n[1];a.data[t].datasets[0].data.push(o.populationRatio[t]),a.data[t].datasets[0].population||(a.data[t].datasets[0].population=[]),a.data[t].datasets[0].population.push(o.population),a.$set(a.data[t].datasets[0],"backgroundColor",w["b"][t]),a.data[t].labels.push(e.split("_").join(" "))}))}));case 9:case"end":return t.stop()}}),t)}))),9)},mounted:function(){var a=this,t=this;w["a"].forEach((function(e){if(!a.chartInstance[e]){var o=n("b16f"),i=o.initChartRanking;a.chartInstance[e]=i({elementId:"RatioPopulation_".concat(e.toUpperCase()),data:a.data[e],onClick:function(a,n){if(n.length){var e=n[0]._chart.canvas.id.split("_")[1].toLowerCase(),o=n[0]._view.label.replace(/ /g,"_");t.$set(t.modelChart,"zone",o),t.$set(t.modelChart,"population",t.data[e].datasets[0].population[n[0]._index]),t.modelDialog.isOpen=!0}}})}}))},destroyed:function(){var a=this;w["a"].forEach((function(t){a.chartInstance[t]&&a.chartInstance[t].destroy(),a.data[t]=b()(w["c"])}))}},D=y,I=(n("18ae"),n("2877")),O=Object(I["a"])(D,e,o,!1,null,null,null);t["default"]=O.exports},"93c6":function(a,t,n){var e=n("6a5c"),o=n("6747");function i(a,t,n,i){return null==a?[]:(o(t)||(t=null==t?[]:[t]),n=i?void 0:n,o(n)||(n=null==n?[]:[n]),e(a,t,n))}a.exports=i},"9f8a":function(a,t,n){"use strict";var e=n("2dd7"),o=n.n(e);o.a},a039:function(a,t,n){"use strict";var e=n("a59d"),o={components:{ZoneCard:e["a"]},data:function(){return{modelDialog:{isOpen:!1,isCollapse:!0,isLarge:!0},componentChart:null}},watch:{"modelDialog.isOpen":function(a,t){this.componentChart=a?e["a"]:null}}};t["a"]=o},ae8d:function(a,t,n){"use strict";var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"capture"},[n("header",{staticClass:"card-divider"},[a._t("header")],2),n("main",{staticClass:"card-section"},[a._t("main")],2),n("main",{staticClass:"card-image"},[a._t("mainImage")],2)]),n("menu",{staticClass:"card-section"},[a._t("menu")],2)])},o=[],i={name:"Card",props:{value:Object}},r=i,c=(n("9f8a"),n("2877")),s=Object(c["a"])(r,e,o,!1,null,"32ad9b4a",null);t["a"]=s.exports},cb02:function(a,t,n){},d70d:function(a,t){function n(a,t,n){var e=-1,o=a.length,i=t.length,r={};while(++e<o){var c=e<i?t[e]:void 0;n(r,a[e],c)}return r}a.exports=n}}]);
//# sourceMappingURL=ratio-population.8ad2abb6.js.map
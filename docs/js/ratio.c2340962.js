(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ratio"],{2386:function(t,a,n){"use strict";var e=n("98e8"),s=n.n(e);s.a},"2dd7":function(t,a,n){},"3f7a":function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"dialog"},[n("div",{staticClass:"reveal-overlay",style:{display:t.styleDisplay},on:{click:function(a){return a.target!==a.currentTarget?null:t.overlayOnClick(a)}}},[n("div",{staticClass:"reveal",class:[{collapse:t.isCollapse},{large:t.isLarge}],style:{display:t.styleDisplay}},[n("button",{staticClass:"close-button",attrs:{"aria-label":"Close Accessible Modal",type:"button"},on:{click:t.closeOnClick}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._t("default")],2)])])},s=[],o=n("9424"),i={name:"Dialog",mixins:[o["a"]],props:{value:Object},data:function(){return{scrollTop:null}},computed:{isOpen:{get:function(){return!!this.value&&!!this.value.isOpen},set:function(t){this.emitModel({isOpen:t})}},isCollapse:{get:function(){return!!this.value&&!!this.value.isCollapse},set:function(t){this.emitModel({isCollapse:t})}},isLarge:{get:function(){return!!this.value&&!!this.value.isLarge},set:function(t){this.emitModel({isLarge:t})}},styleDisplay:function(){return this.isOpen?"block":"none"}},watch:{isOpen:function(t,a){var n=document.querySelector("html");t?(this.scrollTop=n.scrollTop,n.style.top="-".concat(n.scrollTop,"px"),n.classList.add("zf-has-scroll"),n.classList.add("is-reveal-open")):(n.classList.remove("zf-has-scroll"),n.classList.remove("is-reveal-open"),n.style.top=null,window.scrollTo({top:this.scrollTop}))}},methods:{closeOnClick:function(t){this.isOpen=!1},overlayOnClick:function(t){this.isOpen=!1}},destroyed:function(){this.scrollTop=null}},r=i,c=(n("2386"),n("2877")),l=Object(c["a"])(r,e,s,!1,null,"a53e3556",null);a["a"]=l.exports},"42a7":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"ratio"},[t._m(0),t._l(t.cases,(function(a){return n("Card",{key:a,class:["card--"+a],scopedSlots:t._u([{key:"header",fn:function(){return[n("h6",[t._v(t._s("Case "+("death"==a?"fatality":"recover"==a?"recovery":a)+" Ratio"))])]},proxy:!0},{key:"mainImage",fn:function(){return[n("canvas",{attrs:{id:"Ratio_"+a.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[n("a",{staticClass:"download-card",on:{click:t.downloadOnClick}},[n("i",{staticClass:"icon-download-cloud",attrs:{title:"download card"}})])]},proxy:!0}],null,!0)})})),n("Dialog",{model:{value:t.modelDialog,callback:function(a){t.modelDialog=a},expression:"modelDialog"}},[n(t.componentChart,{tag:"component",attrs:{zone:t.modelChart.zone},model:{value:t.modelChart,callback:function(a){t.modelChart=a},expression:"modelChart"}})],1)],2)},s=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"help-text callout warning"},[n("ul",[n("li",[n("strong",[t._v("Long Touch / Hover")]),t._v(" to see case number")]),n("li",[n("strong",[t._v("Touch / Click")]),t._v(" chart bar to see province detail")])])])}],o=n("a34a"),i=n.n(o),r=n("ae8d"),c=n("3f7a"),l=n("a039"),u=n("6afe"),d=n("eafc"),f=n.n(d),p=n("93c6"),h=n.n(p),v=n("b047c"),m=n.n(v),C=n("5492"),g=n.n(C),y=n("0644"),b=n.n(y),_=n("1946");function w(t,a,n,e,s,o,i){try{var r=t[o](i),c=r.value}catch(l){return void n(l)}r.done?a(c):Promise.resolve(c).then(e,s)}function k(t){return function(){var a=this,n=arguments;return new Promise((function(e,s){var o=t.apply(a,n);function i(t){w(o,e,s,i,r,"next",t)}function r(t){w(o,e,s,i,r,"throw",t)}i(void 0)}))}}var O=_["a"].filter((function(t){return"confirmed"!=t})),x={name:"RationPopulation",mixins:[l["a"],u["a"]],components:{Card:r["a"],Dialog:c["a"]},data:function(){return{modelChart:{zone:null,isDialog:!0},cases:O,chartInstance:g()(O,[null,null,null]),data:g()(O,[b()(_["c"]),b()(_["c"]),b()(_["c"])])}},watch:{"data.recover.labels":m()((function(t,a){var n=this;O.forEach((function(t){n.chartInstance[t].update()}))}),500)},created:function(){var t=this;f()(k(i.a.mark((function a(){var n,e,s;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),a.next=3,fetch(n);case 3:return e=a.sent,a.next=6,e.json();case 6:s=a.sent,s=Object.entries(s),O.forEach((function(a){var n=h()(s,(function(t){var n=t[1];return parseInt(n.ratio[a])}),"desc");n.forEach((function(n){var e=n[0],s=n[1];t.data[a].datasets[0].data.push(s.ratio[a]),t.$set(t.data[a].datasets[0],"backgroundColor",_["b"][a]),t.data[a].labels.push(e.split("_").join(" "))}))}));case 9:case"end":return a.stop()}}),a)}))),9)},mounted:function(){var t=this,a=this;O.forEach((function(e){if(!t.chartInstance[e]){var s=n("b16f"),o=s.initChartRanking;t.chartInstance[e]=o({elementId:"Ratio_".concat(e.toUpperCase()),data:t.data[e],onClick:function(t,n){if(n.length){var e=n[0]._view.label.replace(/ /g,"_");a.modelChart.zone=e,a.modelDialog.isOpen=!0}}})}}))},destroyed:function(){var t=this;O.forEach((function(a){t.chartInstance[a]&&t.chartInstance[a].destroy(),t.data[a]=b()(_["c"])}))}},D=x,I=(n("d1a9"),n("2877")),L=Object(I["a"])(D,e,s,!1,null,null,null);a["default"]=L.exports},5492:function(t,a,n){var e=n("32b3"),s=n("d70d");function o(t,a){return s(t||[],a||[],e)}t.exports=o},"7d1b":function(t,a,n){},"93c6":function(t,a,n){var e=n("6a5c"),s=n("6747");function o(t,a,n,o){return null==t?[]:(s(a)||(a=null==a?[]:[a]),n=o?void 0:n,s(n)||(n=null==n?[]:[n]),e(t,a,n))}t.exports=o},"98e8":function(t,a,n){},"9f8a":function(t,a,n){"use strict";var e=n("2dd7"),s=n.n(e);s.a},a039:function(t,a,n){"use strict";var e=n("a59d"),s={components:{ZoneCard:e["a"]},data:function(){return{modelDialog:{isOpen:!1,isCollapse:!0,isLarge:!0},componentChart:null}},watch:{"modelDialog.isOpen":function(t,a){this.componentChart=t?e["a"]:null}}};a["a"]=s},ae8d:function(t,a,n){"use strict";var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"card"},[n("div",{staticClass:"capture"},[n("header",{staticClass:"card-divider"},[t._t("header")],2),n("main",{staticClass:"card-section"},[t._t("main")],2),n("main",{staticClass:"card-image"},[t._t("mainImage")],2)]),n("menu",{staticClass:"card-section"},[t._t("menu")],2)])},s=[],o={name:"Card",props:{value:Object}},i=o,r=(n("9f8a"),n("2877")),c=Object(r["a"])(i,e,s,!1,null,"32ad9b4a",null);a["a"]=c.exports},d1a9:function(t,a,n){"use strict";var e=n("7d1b"),s=n.n(e);s.a},d70d:function(t,a){function n(t,a,n){var e=-1,s=t.length,o=a.length,i={};while(++e<s){var r=e<o?a[e]:void 0;n(i,t[e],r)}return i}t.exports=n}}]);
//# sourceMappingURL=ratio.c2340962.js.map
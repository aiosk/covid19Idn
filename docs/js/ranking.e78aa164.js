(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ranking"],{2386:function(t,n,a){"use strict";var e=a("98e8"),s=a.n(e);s.a},"2dd7":function(t,n,a){},"3f7a":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dialog"},[a("div",{staticClass:"reveal-overlay",style:{display:t.styleDisplay},on:{click:function(n){return n.target!==n.currentTarget?null:t.overlayOnClick(n)}}},[a("div",{staticClass:"reveal",class:[{collapse:t.isCollapse},{large:t.isLarge}],style:{display:t.styleDisplay}},[a("button",{staticClass:"close-button",attrs:{"aria-label":"Close Accessible Modal",type:"button"},on:{click:t.closeOnClick}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._t("default")],2)])])},s=[],o=a("9424"),i={name:"Dialog",mixins:[o["a"]],props:{value:Object},data:function(){return{scrollTop:null}},computed:{isOpen:{get:function(){return!!this.value&&!!this.value.isOpen},set:function(t){this.emitModel({isOpen:t})}},isCollapse:{get:function(){return!!this.value&&!!this.value.isCollapse},set:function(t){this.emitModel({isCollapse:t})}},isLarge:{get:function(){return!!this.value&&!!this.value.isLarge},set:function(t){this.emitModel({isLarge:t})}},styleDisplay:function(){return this.isOpen?"block":"none"}},watch:{isOpen:function(t,n){var a=document.querySelector("html");t?(this.scrollTop=a.scrollTop,a.style.top="-".concat(a.scrollTop,"px"),a.classList.add("zf-has-scroll"),a.classList.add("is-reveal-open")):(a.classList.remove("zf-has-scroll"),a.classList.remove("is-reveal-open"),a.style.top=null,window.scrollTo({top:this.scrollTop}))}},methods:{closeOnClick:function(t){this.isOpen=!1},overlayOnClick:function(t){this.isOpen=!1}},destroyed:function(){this.scrollTop=null}},c=i,l=(a("2386"),a("2877")),r=Object(l["a"])(c,e,s,!1,null,"a53e3556",null);n["a"]=r.exports},4320:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"rangking"},[t._m(0),t._l(t.cases,(function(n){return a("Card",{key:n,class:["card--"+n],scopedSlots:t._u([{key:"header",fn:function(){return[a("h6",[t._v(t._s(n+" Case Ranking"))])]},proxy:!0},{key:"mainImage",fn:function(){return[a("canvas",{attrs:{id:"RankingBar_"+n.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[a("a",{staticClass:"download-card",on:{click:t.downloadOnClick}},[a("i",{staticClass:"icon-download-cloud",attrs:{title:"download card"}})])]},proxy:!0}],null,!0)})})),a("Dialog",{model:{value:t.modelDialog,callback:function(n){t.modelDialog=n},expression:"modelDialog"}},[a(t.componentChart,{tag:"component",attrs:{zone:t.modelChart.zone},model:{value:t.modelChart,callback:function(n){t.modelChart=n},expression:"modelChart"}})],1)],2)},s=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"help-text callout warning"},[a("ul",[a("li",[a("strong",[t._v("Long Touch / Hover")]),t._v(" to see case number")]),a("li",[a("strong",[t._v("Touch / Click")]),t._v(" chart bar to see province detail")])])])}],o=a("a34a"),i=a.n(o),c=a("ae8d"),l=a("3f7a"),r=a("a039"),u=a("6afe"),d=a("eafc"),f=a.n(d),p=a("93c6"),h=a.n(p),v=a("b047c"),m=a.n(v),C=a("5492"),g=a.n(C),k=a("0644"),y=a.n(k),_=a("1946");function b(t,n,a,e,s,o,i){try{var c=t[o](i),l=c.value}catch(r){return void a(r)}c.done?n(l):Promise.resolve(l).then(e,s)}function w(t){return function(){var n=this,a=arguments;return new Promise((function(e,s){var o=t.apply(n,a);function i(t){b(o,e,s,i,c,"next",t)}function c(t){b(o,e,s,i,c,"throw",t)}i(void 0)}))}}var O={name:"Ranking",mixins:[r["a"],u["a"]],components:{Card:c["a"],Dialog:l["a"]},data:function(){return{cases:_["a"],chartInstance:g()(_["a"],[null,null,null,null]),modelChart:{zone:null,isDialog:!0},data:g()(_["a"],[y()(_["c"]),y()(_["c"]),y()(_["c"]),y()(_["c"])])}},watch:{"data.confirmed.labels":m()((function(t,n){var a=this;_["a"].forEach((function(t){a.chartInstance[t]&&a.chartInstance[t].update()}))}),500)},created:function(){var t=this;f()(w(i.a.mark((function n(){var a,e,s;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),n.next=3,fetch(a);case 3:return e=n.sent,n.next=6,e.json();case 6:s=n.sent,s=Object.entries(s).filter((function(t){return"NATIONAL"!=t[0]})),_["a"].forEach((function(n){var a=h()(s,(function(t){var a=t[1];return parseInt(a.total[n])}),"desc");a.forEach((function(a){var e=a[0],s=a[1];t.data[n].datasets[0].data.push(s.total[n]),t.$set(t.data[n].datasets[0],"backgroundColor",_["b"][n]),t.data[n].labels.push(e.split("_").join(" "))}))}));case 9:case"end":return n.stop()}}),n)}))),9)},mounted:function(){var t=this,n=this;f()((function(){_["a"].forEach((function(e){if(!t.chartInstance[e]){var s=a("b16f"),o=s.initChartRanking;t.chartInstance[e]=o({elementId:"RankingBar_".concat(e.toUpperCase()),data:t.data[e],onClick:function(t,a){if(a.length){var e=a[0]._view.label.replace(/ /g,"_");n.modelChart.zone=e,n.modelDialog.isOpen=!0}}})}}))}),799)},destroyed:function(){var t=this;_["a"].forEach((function(n){t.chartInstance[n]&&t.chartInstance[n].destroy(),t.data[n]=y()(_["c"])}))}},x=O,D=(a("4458"),a("2877")),I=Object(D["a"])(x,e,s,!1,null,null,null);n["default"]=I.exports},4458:function(t,n,a){"use strict";var e=a("61fa"),s=a.n(e);s.a},5492:function(t,n,a){var e=a("32b3"),s=a("d70d");function o(t,n){return s(t||[],n||[],e)}t.exports=o},"61fa":function(t,n,a){},"93c6":function(t,n,a){var e=a("6a5c"),s=a("6747");function o(t,n,a,o){return null==t?[]:(s(n)||(n=null==n?[]:[n]),a=o?void 0:a,s(a)||(a=null==a?[]:[a]),e(t,n,a))}t.exports=o},"98e8":function(t,n,a){},"9f8a":function(t,n,a){"use strict";var e=a("2dd7"),s=a.n(e);s.a},a039:function(t,n,a){"use strict";var e=a("a59d"),s={components:{ZoneCard:e["a"]},data:function(){return{modelDialog:{isOpen:!1,isCollapse:!0,isLarge:!0},componentChart:null}},watch:{"modelDialog.isOpen":function(t,n){this.componentChart=t?e["a"]:null}}};n["a"]=s},ae8d:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card"},[a("div",{staticClass:"capture"},[a("header",{staticClass:"card-divider"},[t._t("header")],2),a("main",{staticClass:"card-section"},[t._t("main")],2),a("main",{staticClass:"card-image"},[t._t("mainImage")],2)]),a("menu",{staticClass:"card-section"},[t._t("menu")],2)])},s=[],o={name:"Card",props:{value:Object}},i=o,c=(a("9f8a"),a("2877")),l=Object(c["a"])(i,e,s,!1,null,"32ad9b4a",null);n["a"]=l.exports},d70d:function(t,n){function a(t,n,a){var e=-1,s=t.length,o=n.length,i={};while(++e<s){var c=e<o?n[e]:void 0;a(i,t[e],c)}return i}t.exports=a}}]);
//# sourceMappingURL=ranking.e78aa164.js.map
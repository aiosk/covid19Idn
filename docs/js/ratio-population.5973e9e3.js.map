{"version":3,"sources":["webpack:///./src/views/RatioPopulation.vue?49d2","webpack:///./src/components/Dialog.vue?8c33","webpack:///./src/components/Dialog.vue?4eb7","webpack:///src/components/Dialog.vue","webpack:///./src/components/Dialog.vue?62bd","webpack:///./src/components/Dialog.vue","webpack:///./node_modules/lodash/zipObject.js","webpack:///./src/views/RatioPopulation.vue?327a","webpack:///src/views/RatioPopulation.vue","webpack:///./src/views/RatioPopulation.vue?0c70","webpack:///./src/views/RatioPopulation.vue","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/components/Card.vue?851d","webpack:///./src/mixins/Ranking.js","webpack:///./src/components/Card.vue?566a","webpack:///src/components/Card.vue","webpack:///./src/components/Card.vue?2e9d","webpack:///./src/components/Card.vue","webpack:///./node_modules/lodash/_baseZipObject.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","display","styleDisplay","on","$event","target","currentTarget","overlayOnClick","class","collapse","isCollapse","large","isLarge","attrs","closeOnClick","_v","_t","staticRenderFns","name","mixins","props","value","Object","data","scrollTop","computed","isOpen","get","set","emitModel","watch","val","$html","top","classList","add","remove","window","scrollTo","methods","destroyed","component","assignValue","baseZipObject","zipObject","values","module","exports","_m","_l","v","key","scopedSlots","_u","fn","_s","proxy","toUpperCase","downloadOnClick","model","callback","$$v","modelDialog","expression","componentChart","tag","modelChart","zone","components","Card","Dialog","cases","chartInstance","created","mounted","elementId","onClick","chartItem","length","_this","$set","chartItemID","baseOrderBy","isArray","orderBy","collection","iteratees","orders","guard","undefined","main","ZoneCard","oldVal","assignFunc","index","valsLength","result"],"mappings":"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","file":"js/ratio-population.5973e9e3.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RatioPopulation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RatioPopulation.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=a53e3556&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=a53e3556&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog\"},[_c('div',{staticClass:\"reveal-overlay\",style:({display:_vm.styleDisplay}),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.overlayOnClick($event)}}},[_c('div',{staticClass:\"reveal\",class:[{collapse:_vm.isCollapse},{large:_vm.isLarge}],style:({display:_vm.styleDisplay})},[_c('button',{staticClass:\"close-button\",attrs:{\"aria-label\":\"Close Accessible Modal\",\"type\":\"button\"},on:{\"click\":_vm.closeOnClick}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"Ã—\")])]),_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang='pug'>\n  .dialog\n    .reveal-overlay(':style'=\"{display:styleDisplay}\" '@click.self'='overlayOnClick')\n      .reveal(':style'=\"{display:styleDisplay}\" ':class'=\"[{collapse:isCollapse},{large:isLarge}]\")\n        button.close-button('@click'='closeOnClick' aria-label=\"Close Accessible Modal\" type=\"button\")\n          span(aria-hidden=\"true\") &times;\n        slot\n\n</template>\n\n<script>\nimport MixinForm from \"@/mixins/Form.js\";\nexport default {\n  name: \"Dialog\",\n  mixins: [MixinForm],\n  props: {\n    value: Object\n  },\n  data() {\n    return {\n      scrollTop: null\n    };\n  },\n  computed: {\n    isOpen: {\n      get() {\n        return !!this.value && !!this.value.isOpen;\n      },\n      set(val) {\n        this.emitModel({ isOpen: val });\n      }\n    },\n    isCollapse: {\n      get() {\n        return !!this.value && !!this.value.isCollapse;\n      },\n      set(val) {\n        this.emitModel({ isCollapse: val });\n      }\n    },\n    isLarge: {\n      get() {\n        return !!this.value && !!this.value.isLarge;\n      },\n      set(val) {\n        this.emitModel({ isLarge: val });\n      }\n    },\n    styleDisplay() {\n      return this.isOpen ? \"block\" : \"none\";\n    }\n  },\n  watch: {\n    isOpen(val, oldVal) {\n      const $html = document.querySelector(\"html\");\n      if (val) {\n        this.scrollTop = $html.scrollTop;\n        $html.style.top = `-${$html.scrollTop}px`;\n        $html.classList.add(\"zf-has-scroll\");\n        $html.classList.add(\"is-reveal-open\");\n      } else {\n        $html.classList.remove(\"zf-has-scroll\");\n        $html.classList.remove(\"is-reveal-open\");\n        $html.style.top = null;\n        window.scrollTo({ top: this.scrollTop });\n      }\n    }\n  },\n  methods: {\n    closeOnClick(e) {\n      this.isOpen = false;\n    },\n    overlayOnClick(e) {\n      this.isOpen = false;\n    }\n  },\n  destroyed() {\n    this.scrollTop = null;\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import \"@/css/_foundation\";\n@include foundation-card;\n@include foundation-reveal;\n@include foundation-close-button;\n\n.card {\n}\n// #close {\n//   position: absolute;\n//   top: 1rem;\n//   right: 0;\n// }\n.close-button {\n  top: 0.75rem;\n  span {\n    color: white;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=a53e3556&scoped=true&lang=pug&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=a53e3556&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a53e3556\",\n  null\n  \n)\n\nexport default component.exports","var assignValue = require('./_assignValue'),\n    baseZipObject = require('./_baseZipObject');\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nmodule.exports = zipObject;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ratio-population\"},[_vm._m(0),_vm._l((_vm.cases),function(v){return _c('Card',{key:v,class:[(\"card--\" + v)],scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h6',[_vm._v(_vm._s((v + \" Rate per 1 Million Population Ratio\")))])]},proxy:true},{key:\"mainImage\",fn:function(){return [_c('canvas',{attrs:{\"id\":(\"RatioPopulation_\" + (v.toUpperCase()))}})]},proxy:true},{key:\"menu\",fn:function(){return [_c('a',{staticClass:\"download-card\",on:{\"click\":_vm.downloadOnClick}},[_c('i',{staticClass:\"icon-download-cloud\",attrs:{\"title\":\"download card\"}})])]},proxy:true}],null,true)})}),_c('Dialog',{model:{value:(_vm.modelDialog),callback:function ($$v) {_vm.modelDialog=$$v},expression:\"modelDialog\"}},[_c(_vm.componentChart,{tag:\"component\",attrs:{\"zone\":_vm.modelChart.zone},model:{value:(_vm.modelChart),callback:function ($$v) {_vm.modelChart=$$v},expression:\"modelChart\"}})],1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help-text callout warning\"},[_c('ul',[_c('li',[_c('strong',[_vm._v(\"Long Touch / Hover\")]),_vm._v(\" to see case number\")]),_c('li',[_c('strong',[_vm._v(\"Touch / Click\")]),_vm._v(\" chart bar to see province detail\")])])])}]\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n  .ratio-population\n    include ../html/rankingHelpText.pug\n    Card('v-for'=\"v in cases\" ':key'=\"v\" ':class'=\"[`card--${v}`]\" )\n      template(#header)\n        h6 {{ `${v} Rate per 1 Million Population Ratio` }}\n      template(#mainImage)\n        canvas(':id'=\"`RatioPopulation_${v.toUpperCase()}`\")\n      template(#menu)\n        a.download-card('@click'='downloadOnClick'): i.icon-download-cloud(title='download card')\n\n    Dialog('v-model'='modelDialog')\n      component(:is='componentChart' ':zone'='modelChart.zone' 'v-model'=\"modelChart\")\n</template>\n\n<script>\nimport Card from \"@/components/Card.vue\";\nimport Dialog from \"@/components/Dialog.vue\";\nimport MixinRanking from \"@/mixins/Ranking.js\";\nimport MixinCard from \"@/mixins/Card.js\";\nimport _delay from \"lodash/delay\";\nimport _orderBy from \"lodash/orderBy\";\nimport _debounce from \"lodash/debounce\";\nimport _zipObject from \"lodash/zipObject\";\nimport _cloneDeep from \"lodash/cloneDeep\";\nimport { cases, defaultChartData, defaultChartColor } from \"@/js/vars\";\n\nexport default {\n  name: \"RationPopulation\",\n  mixins: [MixinRanking, MixinCard],\n  components: {\n    Card,\n    Dialog\n  },\n  data() {\n    return {\n      modelChart: { zone: null, population: null, isDialog: true },\n      cases,\n      chartInstance: _zipObject(cases, [null, null, null, null]),\n      data: _zipObject(cases, [\n        _cloneDeep(defaultChartData),\n        _cloneDeep(defaultChartData),\n        _cloneDeep(defaultChartData),\n        _cloneDeep(defaultChartData)\n      ])\n    };\n  },\n  watch: {\n    \"data.confirmed.labels\": _debounce(function(val, oldVal) {\n      cases.forEach(v => {\n        this.chartInstance[v].update();\n      });\n    }, 500)\n  },\n  created() {\n    _delay(async () => {\n      const url = `https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=${Date.now()}`;\n      let res = await fetch(url);\n      let resJSON = await res.json();\n\n      resJSON = Object.entries(resJSON).filter(v => v[0] != \"NATIONAL\");\n      cases.forEach(v => {\n        let orderedResJSON = _orderBy(\n          resJSON,\n          v2 => {\n            const v3 = v2[1];\n            return parseInt(v3.populationRatio[v]);\n          },\n          \"desc\"\n        );\n        orderedResJSON.forEach(v2 => {\n          const k3 = v2[0];\n          const v3 = v2[1];\n\n          this.data[v].datasets[0].data.push(v3.populationRatio[v]);\n          if (!this.data[v].datasets[0].population) {\n            this.data[v].datasets[0].population = [];\n          }\n          this.data[v].datasets[0].population.push(v3.population);\n          this.$set(\n            this.data[v].datasets[0],\n            \"backgroundColor\",\n            defaultChartColor[v]\n          );\n          this.data[v].labels.push(k3.split(\"_\").join(\" \"));\n        });\n      });\n    }, 9);\n  },\n  mounted() {\n    const _this = this;\n    cases.forEach(v => {\n      if (!this.chartInstance[v]) {\n        const { initChartRanking } = require(\"@/js/chartjs\");\n        this.chartInstance[v] = initChartRanking({\n          elementId: `RatioPopulation_${v.toUpperCase()}`,\n          data: this.data[v],\n          onClick(e, chartItem) {\n            // e.preventDefault();\n            if (!chartItem.length) {\n              return;\n            }\n\n            // console.log(chartItem[0]._index);\n            const thisCase = chartItem[0]._chart.canvas.id\n              .split(\"_\")[1]\n              .toLowerCase();\n            const chartItemID = chartItem[0]._view.label.replace(/ /g, \"_\");\n            // console.log(thisCase, _this.data[thisCase]);\n            _this.$set(_this.modelChart, \"zone\", chartItemID);\n            _this.$set(\n              _this.modelChart,\n              \"population\",\n              _this.data[thisCase].datasets[0].population[chartItem[0]._index]\n            );\n            // _this.modelChart.zone = chartItemID;\n            _this.modelDialog.isOpen = true;\n          }\n        });\n      }\n    });\n  },\n  destroyed() {\n    cases.forEach(v => {\n      if (!!this.chartInstance[v]) {\n        this.chartInstance[v].destroy();\n      }\n      this.data[v] = _cloneDeep(defaultChartData);\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/css/_ranking\";\n.ratio-population {\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RatioPopulation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RatioPopulation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RatioPopulation.vue?vue&type=template&id=b6e60624&lang=pug&\"\nimport script from \"./RatioPopulation.vue?vue&type=script&lang=js&\"\nexport * from \"./RatioPopulation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RatioPopulation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=32ad9b4a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=style&index=0&id=32ad9b4a&scoped=true&lang=scss&\"","import ZoneCard from \"@/components/ZoneCard.vue\";\n\nconst main = {\n  components: {\n    ZoneCard,\n  },\n  data() {\n    return {\n      modelDialog: {\n        isOpen: false,\n        isCollapse: true,\n        isLarge: true,\n      },\n      componentChart: null,\n    };\n  },\n  watch: {\n    \"modelDialog.isOpen\": function(val, oldVal) {\n      this.componentChart = !val ? null : ZoneCard;\n    },\n  },\n};\n\nexport default main;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"capture\"},[_c('header',{staticClass:\"card-divider\"},[_vm._t(\"header\")],2),_c('main',{staticClass:\"card-section\"},[_vm._t(\"main\")],2),_c('main',{staticClass:\"card-image\"},[_vm._t(\"mainImage\")],2)]),_c('menu',{staticClass:\"card-section\"},[_vm._t(\"menu\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang='pug'>\n  .card\n    .capture\n      header.card-divider\n        slot(name='header')\n      main.card-section\n        slot(name='main')\n      main.card-image\n        slot(name='mainImage')\n    menu.card-section\n      slot(name='menu')\n    \n</template>\n\n<script>\nexport default {\n  name: \"Card\",\n  props: {\n    value: Object\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import \"@/css/_foundation\";\n@include foundation-card;\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Card.vue?vue&type=template&id=32ad9b4a&scoped=true&lang=pug&\"\nimport script from \"./Card.vue?vue&type=script&lang=js&\"\nexport * from \"./Card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Card.vue?vue&type=style&index=0&id=32ad9b4a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32ad9b4a\",\n  null\n  \n)\n\nexport default component.exports","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nmodule.exports = baseZipObject;\n"],"sourceRoot":""}
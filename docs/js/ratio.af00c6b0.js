(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ratio"],{"2dd7":function(t,n,e){},"33fd":function(t,n,e){"use strict";var a=e("fed5"),r=e.n(a);r.a},"408c":function(t,n,e){var a=e("2b3e"),r=function(){return a.Date.now()};t.exports=r},"42a7":function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ratio"},[t._l(t.cases,(function(n){return e("Card",{key:n,class:["card--"+n],scopedSlots:t._u([{key:"header",fn:function(){return[e("h4",[t._v(t._s("Case "+("death"==n?"fatality":n)+" Ratio"))])]},proxy:!0},{key:"mainImage",fn:function(){return[e("canvas",{attrs:{id:"Ratio_"+n.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[e("a",{staticClass:"download-chart",on:{click:t.onClickDownloadChart}},[e("i",{staticClass:"icon-floppy",attrs:{title:"download chart"}})])]},proxy:!0}],null,!0)})})),e("Dialog",{model:{value:t.modelDialog,callback:function(n){t.modelDialog=n},expression:"modelDialog"}},[e(t.homeChart,{tag:"component",attrs:{zone:t.modelChart.zone},model:{value:t.modelChart,callback:function(n){t.modelChart=n},expression:"modelChart"}})],1)],2)},r=[],i=e("a34a"),o=e.n(i),c=e("ae8d"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"dialog"},[e("div",{staticClass:"reveal-overlay",style:{display:t.styleDisplay},on:{click:function(n){return n.target!==n.currentTarget?null:t.overlayOnClick(n)}}},[e("div",{staticClass:"reveal",style:{display:t.styleDisplay}},[e("button",{staticClass:"close-button",attrs:{"aria-label":"Close Accessible Modal",type:"button"},on:{click:t.closeOnClick}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._t("default")],2)])])},l=[],u={name:"Dialog",props:{value:Object},computed:{isOpen:{get:function(){return!!this.value&&!!this.value.isOpen},set:function(t){this.value.isOpen=t}},styleDisplay:function(){return this.isOpen?"block":"none"}},watch:{isOpen:function(t,n){var e=document.querySelector("html");e.classList.toggle("is-reveal-open")}},methods:{closeOnClick:function(t){this.isOpen=!1},overlayOnClick:function(t){this.isOpen=!1}}},d=u,f=(e("33fd"),e("2877")),h=Object(f["a"])(d,s,l,!1,null,null,null),v=h.exports,p=e("5e9f"),m=e("eafc"),C=e.n(m),b=e("93c6"),g=e.n(b),y=e("b047c"),w=e.n(y),k=e("5492"),x=e.n(k),_=e("0644"),O=e.n(_),D=e("1946");function E(t,n,e,a,r,i,o){try{var c=t[i](o),s=c.value}catch(l){return void e(l)}c.done?n(s):Promise.resolve(s).then(a,r)}function j(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var i=t.apply(n,e);function o(t){E(i,a,r,o,c,"next",t)}function c(t){E(i,a,r,o,c,"throw",t)}o(void 0)}))}}var I=D["a"].filter((function(t){return"confirmed"!=t})),T={datasets:[{data:[]}],labels:[]},R={name:"RationPopulation",components:{HomeChart:p["a"],Card:c["a"],Dialog:v},data:function(){return{modelDialog:{isOpen:!1},homeChart:null,modelChart:{zone:null,periods:3,hiddenDatasets:[!0,!0,!0,!0,!1,!1,!1,!1,!0,!0,!0,!0]},cases:I,chartInstance:x()(I,[null,null,null]),data:x()(I,[O()(T),O()(T),O()(T)])}},watch:{"data.recover.labels":w()((function(t,n){var e=this;I.forEach((function(t){e.chartInstance[t].update()}))}),500),"modelDialog.isOpen":function(t,n){this.homeChart=t?p["a"]:null}},methods:{onClickDownloadChart:function(t){var n=e("1c9c"),a=t.target.closest(".card"),r=a.querySelector("h4").innerText.replace(/ /g,"_"),i="".concat(r,".jpeg");j(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.toJpeg(a.querySelector(".capture"));case 2:e=t.sent,r=document.createElement("a"),r.href=e,r.download=i,r.click();case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var t=this;C()(j(o.a.mark((function n(){var a,r,i,c,s;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e("b16f"),r=a.color,i="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),n.next=4,fetch(i);case 4:return c=n.sent,n.next=7,c.json();case 7:s=n.sent,s=Object.entries(s),I.forEach((function(n){var e=g()(s,(function(t){var e=t[1];return parseInt(e.ratio[n])}),"desc");e.forEach((function(e){var a=e[0],i=e[1];t.data[n].datasets[0].data.push(i.ratio[n]),t.$set(t.data[n].datasets[0],"backgroundColor",r[n]),t.data[n].labels.push(a.split("_").join(" "))}))}));case 10:case"end":return n.stop()}}),n)}))),9)},mounted:function(){var t=this,n=this;I.forEach((function(a){if(!t.chartInstance[a]){var r=e("b16f"),i=r.initChartRanking;t.chartInstance[a]=i({elementId:"Ratio_".concat(a.toUpperCase()),data:t.data[a],onClick:function(t,e){if(e.length){var a=e[0]._view.label.replace(/ /g,"_");n.modelChart.zone=a,n.modelDialog.isOpen=!0}}})}}))},destroyed:function(){var t=this;I.forEach((function(n){t.chartInstance[n]&&t.chartInstance[n].destroy(),t.data[n]={datasets:[],labels:[]}}))}},z=R,S=(e("d1a9"),Object(f["a"])(z,a,r,!1,null,null,null));n["default"]=S.exports},5492:function(t,n,e){var a=e("32b3"),r=e("d70d");function i(t,n){return r(t||[],n||[],a)}t.exports=i},"7d1b":function(t,n,e){},"93c6":function(t,n,e){var a=e("6a5c"),r=e("6747");function i(t,n,e,i){return null==t?[]:(r(n)||(n=null==n?[]:[n]),e=i?void 0:e,r(e)||(e=null==e?[]:[e]),a(t,n,e))}t.exports=i},"9f8a":function(t,n,e){"use strict";var a=e("2dd7"),r=e.n(a);r.a},ae8d:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"card"},[e("div",{staticClass:"capture"},[e("header",{staticClass:"card-divider"},[t._t("header")],2),e("main",{staticClass:"card-section"},[t._t("main")],2),e("main",{staticClass:"card-image"},[t._t("mainImage")],2)]),e("menu",{staticClass:"card-section"},[t._t("menu")],2)])},r=[],i={name:"Card",props:{value:Object}},o=i,c=(e("9f8a"),e("2877")),s=Object(c["a"])(o,a,r,!1,null,"32ad9b4a",null);n["a"]=s.exports},b047c:function(t,n,e){var a=e("1a8c"),r=e("408c"),i=e("b4b0"),o="Expected a function",c=Math.max,s=Math.min;function l(t,n,e){var l,u,d,f,h,v,p=0,m=!1,C=!1,b=!0;if("function"!=typeof t)throw new TypeError(o);function g(n){var e=l,a=u;return l=u=void 0,p=n,f=t.apply(a,e),f}function y(t){return p=t,h=setTimeout(x,n),m?g(t):f}function w(t){var e=t-v,a=t-p,r=n-e;return C?s(r,d-a):r}function k(t){var e=t-v,a=t-p;return void 0===v||e>=n||e<0||C&&a>=d}function x(){var t=r();if(k(t))return _(t);h=setTimeout(x,w(t))}function _(t){return h=void 0,b&&l?g(t):(l=u=void 0,f)}function O(){void 0!==h&&clearTimeout(h),p=0,l=v=u=h=void 0}function D(){return void 0===h?f:_(r())}function E(){var t=r(),e=k(t);if(l=arguments,u=this,v=t,e){if(void 0===h)return y(v);if(C)return clearTimeout(h),h=setTimeout(x,n),g(v)}return void 0===h&&(h=setTimeout(x,n)),f}return n=i(n)||0,a(e)&&(m=!!e.leading,C="maxWait"in e,d=C?c(i(e.maxWait)||0,n):d,b="trailing"in e?!!e.trailing:b),E.cancel=O,E.flush=D,E}t.exports=l},d1a9:function(t,n,e){"use strict";var a=e("7d1b"),r=e.n(a);r.a},d70d:function(t,n){function e(t,n,e){var a=-1,r=t.length,i=n.length,o={};while(++a<r){var c=a<i?n[a]:void 0;e(o,t[a],c)}return o}t.exports=e},fed5:function(t,n,e){}}]);
//# sourceMappingURL=ratio.af00c6b0.js.map
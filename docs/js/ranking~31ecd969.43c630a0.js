(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ranking~31ecd969"],{"2dd75":function(a,t,n){},4320:function(a,t,n){"use strict";n.r(t);var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"rangking"},[a._m(0),n("div",{staticClass:"grid-x large-up-2"},a._l(a.cases,(function(t){return n("div",{key:t,staticClass:"cell"},[n("Card",{class:["card-ranking","card-ranking--"+t],scopedSlots:a._u([{key:"header",fn:function(){return[n("h6",[a._v(a._s(t+" Case Ranking"))]),n("menu",[n("a",{staticClass:"fullscreen show-for-large",attrs:{title:"resize card","aria-label":"resize card"},on:{click:a.fullscreenOnClick}},[n("i",{staticClass:"icon-window-maximize"})])])]},proxy:!0},{key:"mainImage",fn:function(){return[n("canvas",{attrs:{id:"RankingBar_"+t.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[n("a",{staticClass:"download-card",attrs:{title:"download card","aria-label":"download card"},on:{click:a.downloadOnClick}},[n("i",{staticClass:"icon-download-cloud"})]),n("a",{staticClass:"share",attrs:{title:"share","aria-label":"share"},on:{click:a.shareOnClick}},[n("i",{staticClass:"icon-share"})])]},proxy:!0}],null,!0)})],1)})),0),n("Dialog",{model:{value:a.modelDialog,callback:function(t){a.modelDialog=t},expression:"modelDialog"}},[n(a.componentChart,{tag:"component",attrs:{zone:a.modelChart.zone},model:{value:a.modelChart,callback:function(t){a.modelChart=t},expression:"modelChart"}})],1)],1)},r=[function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"help-text callout warning"},[n("ul",[n("li",[n("strong",[a._v("Long Touch / Hover")]),a._v(" to see case number")]),n("li",[n("strong",[a._v("Touch / Click")]),a._v(" chart bar to see province detail")])])])}],c=n("a34a"),s=n.n(c),i=n("ae8d"),o=n("3f7a"),l=n("a039"),d=n("6afe"),u=n("eafc"),f=n.n(u),h=n("93c6"),v=n.n(h),m=n("b047c"),p=n.n(m),g=n("5492"),C=n.n(g),b=n("0644"),k=n.n(b),w=n("1946");function _(a,t,n,e,r,c,s){try{var i=a[c](s),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(e,r)}function x(a){return function(){var t=this,n=arguments;return new Promise((function(e,r){var c=a.apply(t,n);function s(a){_(c,e,r,s,i,"next",a)}function i(a){_(c,e,r,s,i,"throw",a)}s(void 0)}))}}var I={name:"Ranking",mixins:[l["a"],d["a"]],components:{Card:i["a"],Dialog:o["a"]},data:function(){return{cases:w["a"],chartBarInstance:C()(w["a"],[null,null,null,null]),chartPieInstance:C()(w["a"],[null,null,null,null]),modelChart:{zone:null,isDialog:!0},data:C()(w["a"],[k()(w["c"]),k()(w["c"]),k()(w["c"]),k()(w["c"])]),dataPie:C()(w["a"],[k()(w["c"]),k()(w["c"]),k()(w["c"]),k()(w["c"])])}},watch:{"data.confirmed.labels":p()((function(a,t){var n=this;w["a"].forEach((function(a){n.chartBarInstance[a]&&n.chartBarInstance[a].update()}))}),500),"dataPie.confirmed.labels":p()((function(a,t){var n=this;w["a"].forEach((function(a){n.chartPieInstance[a]&&n.chartPieInstance[a].update()}))}),500)},created:function(){var a=this;f()(x(s.a.mark((function t(){var n,e,r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),t.next=3,fetch(n);case 3:return e=t.sent,t.next=6,e.json();case 6:r=t.sent,r=Object.entries(r).filter((function(a){return"NATIONAL"!=a[0]})),w["a"].forEach((function(t){var n=v()(r,(function(a){var n=a[1];return parseInt(n.total[t])}),"desc");n.forEach((function(e,r){var c=e[0],s=e[1];a.$set(a.data[t].datasets[0].data,r,s.total[t]),a.$set(a.data[t].datasets[0],"backgroundColor",w["b"][t]),a.$set(a.data[t].labels,r,c.split("_").join(" ")),a.data[t].datasets[0].datalabels||a.$set(a.data[t].datasets[0],"datalabels",{align:[],color:[]});var i=18;a.$set(a.data[t].datasets[0].datalabels.align,r,r<n.length/i?"start":"end"),a.$set(a.data[t].datasets[0].datalabels.color,r,r<n.length/i?"#fff":"#000"),a.$set(a.dataPie[t].datasets[0].data,r,s.totalPercentage[t]),a.$set(a.dataPie[t].datasets[0],"backgroundColor",w["b"][t]),a.$set(a.dataPie[t].labels,r,c.split("_").join(" "))}))}));case 9:case"end":return t.stop()}}),t)}))),9)},mounted:function(){var a=this,t=this;f()((function(){w["a"].forEach((function(e){if(!a.chartBarInstance[e]){var r=n("b16f"),c=r.initChartRanking;a.chartBarInstance[e]=c({elementId:"RankingBar_".concat(e.toUpperCase()),data:a.data[e],onClick:function(a,n){if(n.length){var e=n[0]._view.label.replace(/ /g,"_");t.modelChart.zone=e,t.modelDialog.isOpen=!0}},datalabelsFormatter:function(a,n){var r=t.dataPie[e].datasets[0].data[n.dataIndex];return"".concat(a," (").concat(r,"%)")}})}}))}),799)},destroyed:function(){var a=this;w["a"].forEach((function(t){a.chartBarInstance[t]&&a.chartBarInstance[t].destroy(),a.data[t]=k()(w["c"])}))}},P=I,$=(n("4458"),n("2877")),y=Object($["a"])(P,e,r,!1,null,null,null);t["default"]=y.exports},4458:function(a,t,n){"use strict";var e=n("61fa"),r=n.n(e);r.a},5492:function(a,t,n){var e=n("32b3"),r=n("d70d");function c(a,t){return r(a||[],t||[],e)}a.exports=c},"61fa":function(a,t,n){},"93c6":function(a,t,n){var e=n("6a5c"),r=n("6747");function c(a,t,n,c){return null==a?[]:(r(t)||(t=null==t?[]:[t]),n=c?void 0:n,r(n)||(n=null==n?[]:[n]),e(a,t,n))}a.exports=c},"9f8a":function(a,t,n){"use strict";var e=n("2dd75"),r=n.n(e);r.a},a039:function(a,t,n){"use strict";var e=n("a59d"),r={components:{ZoneCard:e["a"]},data:function(){return{modelDialog:{isOpen:!1,isCollapse:!0},componentChart:null}},watch:{"modelDialog.isOpen":function(a,t){this.componentChart=a?e["a"]:null}}};t["a"]=r},ae8d:function(a,t,n){"use strict";var e=function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"capture"},[n("header",{staticClass:"card-divider"},[a._t("header")],2),n("main",{staticClass:"card-section"},[a._t("main")],2),n("main",{staticClass:"card-image"},[a._t("mainImage")],2)]),n("menu",{staticClass:"card-section"},[a._t("menu")],2)])},r=[],c={name:"Card",props:{value:Object}},s=c,i=(n("9f8a"),n("2877")),o=Object(i["a"])(s,e,r,!1,null,"32ad9b4a",null);t["a"]=o.exports},d70d:function(a,t){function n(a,t,n){var e=-1,r=a.length,c=t.length,s={};while(++e<r){var i=e<c?t[e]:void 0;n(s,a[e],i)}return s}a.exports=n}}]);
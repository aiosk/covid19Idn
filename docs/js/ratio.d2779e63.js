(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ratio"],{"2dd7":function(t,n,a){},"33fd":function(t,n,a){"use strict";var e=a("fed5"),o=a.n(e);o.a},"3f7a":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"dialog"},[a("div",{staticClass:"reveal-overlay",style:{display:t.styleDisplay},on:{click:function(n){return n.target!==n.currentTarget?null:t.overlayOnClick(n)}}},[a("div",{staticClass:"reveal",class:[{collapse:t.isCollapse}],style:{display:t.styleDisplay}},[a("button",{staticClass:"close-button",attrs:{"aria-label":"Close Accessible Modal",type:"button"},on:{click:t.closeOnClick}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._t("default")],2)])])},o=[],i=a("9424"),r={name:"Dialog",mixins:[i["a"]],props:{value:Object},data:function(){return{scrollTop:null}},computed:{isOpen:{get:function(){return!!this.value&&!!this.value.isOpen},set:function(t){this.emitModel({isOpen:t})}},isCollapse:{get:function(){return!!this.value&&!!this.value.isCollapse},set:function(t){this.emitModel({isCollapse:t})}},styleDisplay:function(){return this.isOpen?"block":"none"}},watch:{isOpen:function(t,n){var a=document.querySelector("html");t?(this.scrollTop=a.scrollTop,a.style.top="-".concat(a.scrollTop,"px"),a.classList.add("zf-has-scroll"),a.classList.add("is-reveal-open")):(a.classList.remove("zf-has-scroll"),a.classList.remove("is-reveal-open"),a.style.top=null,window.scrollTo({top:this.scrollTop}))}},methods:{closeOnClick:function(t){this.isOpen=!1},overlayOnClick:function(t){this.isOpen=!1}},destroyed:function(){this.scrollTop=null}},s=r,c=(a("33fd"),a("2877")),l=Object(c["a"])(s,e,o,!1,null,null,null);n["a"]=l.exports},"408c":function(t,n,a){var e=a("2b3e"),o=function(){return e.Date.now()};t.exports=o},"42a7":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"ratio"},[t._m(0),t._l(t.cases,(function(n){return a("Card",{key:n,class:["card--"+n],scopedSlots:t._u([{key:"header",fn:function(){return[a("h4",[t._v(t._s("Case "+("death"==n?"fatality":"recover"==n?"recovery":n)+" Ratio"))])]},proxy:!0},{key:"mainImage",fn:function(){return[a("canvas",{attrs:{id:"Ratio_"+n.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[a("a",{staticClass:"download-chart",on:{click:t.downloadOnClick}},[a("i",{staticClass:"icon-floppy",attrs:{title:"download chart"}})])]},proxy:!0}],null,!0)})})),a("Dialog",{model:{value:t.modelDialog,callback:function(n){t.modelDialog=n},expression:"modelDialog"}},[a(t.componentChart,{tag:"component",attrs:{zone:t.modelChart.zone},model:{value:t.modelChart,callback:function(n){t.modelChart=n},expression:"modelChart"}})],1)],2)},o=[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"help-text callout warning"},[a("ul",[a("li",[t._v("Long Tap to show legend")]),a("li",[t._v("Tap to show province detail")])])])}],i=a("a34a"),r=a.n(i),s=a("ae8d"),c=a("3f7a"),l=a("a039"),u=a("6afe"),d=a("eafc"),f=a.n(d),p=a("93c6"),v=a.n(p),h=a("b047c"),m=a.n(h),C=a("5492"),y=a.n(C),b=a("0644"),g=a.n(b),w=a("1946");function _(t,n,a,e,o,i,r){try{var s=t[i](r),c=s.value}catch(l){return void a(l)}s.done?n(c):Promise.resolve(c).then(e,o)}function x(t){return function(){var n=this,a=arguments;return new Promise((function(e,o){var i=t.apply(n,a);function r(t){_(i,e,o,r,s,"next",t)}function s(t){_(i,e,o,r,s,"throw",t)}r(void 0)}))}}var k=w["a"].filter((function(t){return"confirmed"!=t})),O={name:"RationPopulation",mixins:[l["a"],u["a"]],components:{Card:s["a"],Dialog:c["a"]},data:function(){return{modelChart:{zone:null},cases:k,chartInstance:y()(k,[null,null,null]),data:y()(k,[g()(w["c"]),g()(w["c"]),g()(w["c"])])}},watch:{"data.recover.labels":m()((function(t,n){var a=this;k.forEach((function(t){a.chartInstance[t].update()}))}),500)},created:function(){var t=this;f()(x(r.a.mark((function n(){var a,e,o;return r.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),n.next=3,fetch(a);case 3:return e=n.sent,n.next=6,e.json();case 6:o=n.sent,o=Object.entries(o),k.forEach((function(n){var a=v()(o,(function(t){var a=t[1];return parseInt(a.ratio[n])}),"desc");a.forEach((function(a){var e=a[0],o=a[1];t.data[n].datasets[0].data.push(o.ratio[n]),t.$set(t.data[n].datasets[0],"backgroundColor",w["b"][n]),t.data[n].labels.push(e.split("_").join(" "))}))}));case 9:case"end":return n.stop()}}),n)}))),9)},mounted:function(){var t=this,n=this;k.forEach((function(e){if(!t.chartInstance[e]){var o=a("b16f"),i=o.initChartRanking;t.chartInstance[e]=i({elementId:"Ratio_".concat(e.toUpperCase()),data:t.data[e],onClick:function(t,a){if(a.length){var e=a[0]._view.label.replace(/ /g,"_");n.modelChart.zone=e,n.modelDialog.isOpen=!0}}})}}))},destroyed:function(){var t=this;k.forEach((function(n){t.chartInstance[n]&&t.chartInstance[n].destroy(),t.data[n]=g()(w["c"])}))}},T=O,D=(a("d1a9"),a("2877")),E=Object(D["a"])(T,e,o,!1,null,null,null);n["default"]=E.exports},5492:function(t,n,a){var e=a("32b3"),o=a("d70d");function i(t,n){return o(t||[],n||[],e)}t.exports=i},"7d1b":function(t,n,a){},"93c6":function(t,n,a){var e=a("6a5c"),o=a("6747");function i(t,n,a,i){return null==t?[]:(o(n)||(n=null==n?[]:[n]),a=i?void 0:a,o(a)||(a=null==a?[]:[a]),e(t,n,a))}t.exports=i},"9f8a":function(t,n,a){"use strict";var e=a("2dd7"),o=a.n(e);o.a},a039:function(t,n,a){"use strict";var e=a("a59d"),o={components:{ZoneCard:e["a"]},data:function(){return{modelDialog:{isOpen:!1,isCollapse:!0},componentChart:null}},watch:{"modelDialog.isOpen":function(t,n){this.componentChart=t?e["a"]:null}}};n["a"]=o},ae8d:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card"},[a("div",{staticClass:"capture"},[a("header",{staticClass:"card-divider"},[t._t("header")],2),a("main",{staticClass:"card-section"},[t._t("main")],2),a("main",{staticClass:"card-image"},[t._t("mainImage")],2)]),a("menu",{staticClass:"card-section"},[t._t("menu")],2)])},o=[],i={name:"Card",props:{value:Object}},r=i,s=(a("9f8a"),a("2877")),c=Object(s["a"])(r,e,o,!1,null,"32ad9b4a",null);n["a"]=c.exports},b047c:function(t,n,a){var e=a("1a8c"),o=a("408c"),i=a("b4b0"),r="Expected a function",s=Math.max,c=Math.min;function l(t,n,a){var l,u,d,f,p,v,h=0,m=!1,C=!1,y=!0;if("function"!=typeof t)throw new TypeError(r);function b(n){var a=l,e=u;return l=u=void 0,h=n,f=t.apply(e,a),f}function g(t){return h=t,p=setTimeout(x,n),m?b(t):f}function w(t){var a=t-v,e=t-h,o=n-a;return C?c(o,d-e):o}function _(t){var a=t-v,e=t-h;return void 0===v||a>=n||a<0||C&&e>=d}function x(){var t=o();if(_(t))return k(t);p=setTimeout(x,w(t))}function k(t){return p=void 0,y&&l?b(t):(l=u=void 0,f)}function O(){void 0!==p&&clearTimeout(p),h=0,l=v=u=p=void 0}function T(){return void 0===p?f:k(o())}function D(){var t=o(),a=_(t);if(l=arguments,u=this,v=t,a){if(void 0===p)return g(v);if(C)return clearTimeout(p),p=setTimeout(x,n),b(v)}return void 0===p&&(p=setTimeout(x,n)),f}return n=i(n)||0,e(a)&&(m=!!a.leading,C="maxWait"in a,d=C?s(i(a.maxWait)||0,n):d,y="trailing"in a?!!a.trailing:y),D.cancel=O,D.flush=T,D}t.exports=l},d1a9:function(t,n,a){"use strict";var e=a("7d1b"),o=a.n(e);o.a},d70d:function(t,n){function a(t,n,a){var e=-1,o=t.length,i=n.length,r={};while(++e<o){var s=e<i?n[e]:void 0;a(r,t[e],s)}return r}t.exports=a},fed5:function(t,n,a){}}]);
//# sourceMappingURL=ratio.d2779e63.js.map
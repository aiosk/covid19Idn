(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ranking"],{"2dd7":function(t,n,a){},"408c":function(t,n,a){var e=a("2b3e"),r=function(){return e.Date.now()};t.exports=r},4320:function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"rangking"},t._l(t.cases,(function(n){return a("Card",{key:n,class:["card--"+n],scopedSlots:t._u([{key:"header",fn:function(){return[a("h4",[t._v(t._s(n+" Case Ranking"))])]},proxy:!0},{key:"mainImage",fn:function(){return[a("canvas",{attrs:{id:"RankingBar_"+n.toUpperCase()}})]},proxy:!0},{key:"menu",fn:function(){return[a("a",{staticClass:"download-chart",on:{click:t.onClickDownloadChart}},[a("i",{staticClass:"icon-floppy",attrs:{title:"download chart"}})])]},proxy:!0}],null,!0)})})),1)},r=[],c=a("a34a"),i=a.n(c),o=a("ae8d"),s=a("eafc"),u=a.n(s),l=a("93c6"),d=a.n(l),f=a("b047c"),v=a.n(f),h=a("5492"),p=a.n(h),m=a("0644"),w=a.n(m),g=a("1946");function b(t,n,a,e,r,c,i){try{var o=t[c](i),s=o.value}catch(u){return void a(u)}o.done?n(s):Promise.resolve(s).then(e,r)}function k(t){return function(){var n=this,a=arguments;return new Promise((function(e,r){var c=t.apply(n,a);function i(t){b(c,e,r,i,o,"next",t)}function o(t){b(c,e,r,i,o,"throw",t)}i(void 0)}))}}var x={datasets:[{data:[]}],labels:[]},C={name:"Ranking",components:{Card:o["a"]},data:function(){return{cases:g["a"],chartInstance:p()(g["a"],[null,null,null,null]),data:p()(g["a"],[w()(x),w()(x),w()(x),w()(x)])}},watch:{"data.confirmed.labels":v()((function(t,n){var a=this;g["a"].forEach((function(t){a.chartInstance[t].update()}))}),500)},methods:{onClickDownloadChart:function(t){var n=a("1c9c"),e=t.target.closest(".card"),r=e.querySelector("h4").innerText.replace(/ /g,"_"),c="".concat(r,".jpeg");k(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.toJpeg(e.querySelector(".capture"));case 2:a=t.sent,r=document.createElement("a"),r.href=a,r.download=c,r.click();case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var t=this;u()(k(i.a.mark((function n(){var e,r,c,o,s;return i.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e=a("b16f"),r=e.color,c="https://raw.githubusercontent.com/aiosk/covidn/master/cli/dist/stats/stats.json?_=".concat(Date.now()),n.next=4,fetch(c);case 4:return o=n.sent,n.next=7,o.json();case 7:s=n.sent,s=Object.entries(s).filter((function(t){return"NATIONAL"!=t[0]})),g["a"].forEach((function(n){var a=d()(s,(function(t){var a=t[1];return parseInt(a.total[n])}),"desc");a.forEach((function(a){var e=a[0],c=a[1];t.data[n].datasets[0].data.push(c.total[n]),t.$set(t.data[n].datasets[0],"backgroundColor",r[n]),t.data[n].labels.push(e.split("_").join(" "))}))}));case 10:case"end":return n.stop()}}),n)}))),9)},mounted:function(){var t=this;g["a"].forEach((function(n){if(!t.chartInstance[n]){var e=a("b16f"),r=e.initChartRanking;t.chartInstance[n]=r({elementId:"RankingBar_".concat(n.toUpperCase()),data:t.data[n]})}}))},destroyed:function(){var t=this;g["a"].forEach((function(n){t.chartInstance[n]&&t.chartInstance[n].destroy(),t.data[n]={datasets:[],labels:[]}}))}},y=C,_=(a("4458"),a("2877")),I=Object(_["a"])(y,e,r,!1,null,null,null);n["default"]=I.exports},4458:function(t,n,a){"use strict";var e=a("61fa"),r=a.n(e);r.a},5492:function(t,n,a){var e=a("32b3"),r=a("d70d");function c(t,n){return r(t||[],n||[],e)}t.exports=c},"61fa":function(t,n,a){},"93c6":function(t,n,a){var e=a("6a5c"),r=a("6747");function c(t,n,a,c){return null==t?[]:(r(n)||(n=null==n?[]:[n]),a=c?void 0:a,r(a)||(a=null==a?[]:[a]),e(t,n,a))}t.exports=c},"9f8a":function(t,n,a){"use strict";var e=a("2dd7"),r=a.n(e);r.a},ae8d:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card"},[a("div",{staticClass:"capture"},[a("header",{staticClass:"card-divider"},[t._t("header")],2),a("main",{staticClass:"card-section"},[t._t("main")],2),a("main",{staticClass:"card-image"},[t._t("mainImage")],2)]),a("menu",{staticClass:"card-section"},[t._t("menu")],2)])},r=[],c={name:"Card",props:{value:Object}},i=c,o=(a("9f8a"),a("2877")),s=Object(o["a"])(i,e,r,!1,null,"32ad9b4a",null);n["a"]=s.exports},b047c:function(t,n,a){var e=a("1a8c"),r=a("408c"),c=a("b4b0"),i="Expected a function",o=Math.max,s=Math.min;function u(t,n,a){var u,l,d,f,v,h,p=0,m=!1,w=!1,g=!0;if("function"!=typeof t)throw new TypeError(i);function b(n){var a=u,e=l;return u=l=void 0,p=n,f=t.apply(e,a),f}function k(t){return p=t,v=setTimeout(y,n),m?b(t):f}function x(t){var a=t-h,e=t-p,r=n-a;return w?s(r,d-e):r}function C(t){var a=t-h,e=t-p;return void 0===h||a>=n||a<0||w&&e>=d}function y(){var t=r();if(C(t))return _(t);v=setTimeout(y,x(t))}function _(t){return v=void 0,g&&u?b(t):(u=l=void 0,f)}function I(){void 0!==v&&clearTimeout(v),p=0,u=h=l=v=void 0}function E(){return void 0===v?f:_(r())}function T(){var t=r(),a=C(t);if(u=arguments,l=this,h=t,a){if(void 0===v)return k(h);if(w)return clearTimeout(v),v=setTimeout(y,n),b(h)}return void 0===v&&(v=setTimeout(y,n)),f}return n=c(n)||0,e(a)&&(m=!!a.leading,w="maxWait"in a,d=w?o(c(a.maxWait)||0,n):d,g="trailing"in a?!!a.trailing:g),T.cancel=I,T.flush=E,T}t.exports=u},d70d:function(t,n){function a(t,n,a){var e=-1,r=t.length,c=n.length,i={};while(++e<r){var o=e<c?n[e]:void 0;a(i,t[e],o)}return i}t.exports=a}}]);
//# sourceMappingURL=ranking.d96ad57d.js.map